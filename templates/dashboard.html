<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
        <title>Dashboard | NexusLearn</title>
</head>
<body class="dashboard-body">
    <nav class="navbar">
        <h2>NexusLearn</h2>
        <div class="nav-items">
            <button onclick="showSection('chat-sec')">AI Tutor</button>
            <button onclick="showSection('roadmap-sec')">Roadmaps</button>
            <button onclick="showSection('quiz-sec')">Daily Quiz</button>
            <button onclick="showSection('youtube-sec')">Video Library</button>
        </div>
    </nav>

    <main class="container">
        <div class="card" id="chat-sec">
          <h3>AI Tutor Support</h3>
          <textarea id="chat-input" placeholder="Type your question here..."></textarea>
    
          <div class="cta-group" style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
               <button onclick="redirectAI('chatgpt')" style="background: #10a37f; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 5px;">
                  Ask ChatGPT
                </button>
                <button onclick="redirectAI('gemini')" style="background: #1a73e8; color: white; border: none; padding: 10px 20px; cursor: pointer; border-radius: 5px;">
                 Ask Gemini Web
                </button>
            </div>

           <div id="chat-output" class="output"></div>
           
           </div>

          <script src="{{ url_for('static', filename='script.js') }}"></script>
        </div>

        <section id="roadmap-sec" class="card" style="display:none;">
          <h3>Learning Roadmap</h3>
          <input type="text" id="topic-input" placeholder="e.g. Java Programming">
          <button onclick="askAI('roadmap')">Create Path</button>
          <div id="roadmap-output" class="output"></div>
        </section>

        <section id="quiz-sec" class="card" style="display:none;">
          <h3>Daily Quiz</h3>
          <input type="text" id="quiz-topic-input" placeholder="Topic for quiz...">
          <button onclick="askAI('quiz')">Get Quiz</button>
          <div id="quiz-output" class="output"></div>
        </section>
        
        <section id="youtube-sec" class="card" style="display:none;">
            <h3>YouTube Redirect</h3>
            <input type="text" id="yt-query" placeholder="Subject name...">
            <button onclick="searchYT()">Search on YouTube</button>
        </section>
    </main>

    <script>
        function showSection(id) {
            document.querySelectorAll('section').forEach(s => s.style.display = 'none');
            document.getElementById(id).style.display = 'block';
        }

        async function askAI(mode) {
            const topic = document.getElementById('topic-input').value;
            const query = document.getElementById('chat-input').value;
            const response = await fetch('/ai_engine', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ mode, topic, query })
            });
            const data = await response.json();
            document.getElementById(`${mode}-output`).innerText = data.result;
        }

        function searchYT() {
            const q = document.getElementById('yt-query').value;
            window.open(`https://www.youtube.com/results?search_query=${q}+tutorial`, '_blank');
        }
    </script>
   
    <section class="future-impl">
        <div class="container">
           <h2 class="section-title">Future Roadmap</h2>
             <div class="future-grid">
                <div class="future-card">
                  <i class="fas fa-code"></i>
                   <h3>In-Browser IDE</h3>
                   <p>Execute Python and Java code directly within the roadmap steps to learn by doing.</p>
               </div>
            <div class="future-card">
                <i class="fas fa-trophy"></i>
                <h3>Gamified Learning</h3>
                <p>Earn "Nexus Points" and badges for completing quizzes and hitting daily streaks.</p>
            </div>
            <div class="future-card">
                <i class="fas fa-file-pdf"></i>
                <h3>Smart Certificates</h3>
                <p>Generate verifiable PDF certificates upon successful completion of a roadmap path.</p>
            </div>
            <div class="future-card">
                <i class="fas fa-chart-line"></i>
                <h3>Progress Analytics</h3>
                <p>A personal dashboard to track your learning speed and identify weak areas via AI.</p>
            </div>
        </div>
    </div>
</section>
</body>
</html> 
</body>
</html>
